import java.util.Arrays;
import java.util.Comparator;
import java.util.Scanner;

public class Main {
	
	static Scanner scanner = new Scanner(System.in);
	static String[] array;
	static int maxChar;
	
	public static void main(String[] args) {
		if (scanner.hasNextInt()) {
			array = new String[scanner.nextInt()];
		} else {
			return;
		}
		
		if (scanner.hasNextInt()) {
			maxChar = scanner.nextInt();
		} else {
			return;
		}
			
		if (scanner.hasNextLine()) { 
			scanner.nextLine();
		} else {
			return;
		}
		
		int i = 0;
		while (i<array.length) {
		        array[i]=new String(scanner.nextLine());
		        i++;
		}
				
		if (array.length == 0) {
			return;
		}
		
		Integer [] indices = new Integer[array.length];
		for (i = 0; i <array.length ; i++) {
            indices[i]=i+1;
		}
		
		Arrays.sort(indices, new Comparator<Integer>(){  
		    @Override  
		    public int compare(Integer i1, Integer i2){  
		    	int counter = 0;
				while (array[i1-1].charAt(counter) == array[i2-1].charAt(counter)) {
					counter++;
				}
				if (counter >= maxChar) {
					return 0;
				} else if (counter % 2 == 0) {
					return array[i1-1].charAt(counter) < array[i2-1].charAt(counter) ? -1 : 1;
				} else {
					return array[i1-1].charAt(counter) < array[i2-1].charAt(counter) ? 1 : -1;
				}
		    }
		});
		
	}
		
}

