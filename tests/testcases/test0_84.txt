
import string
letras = string.ascii_uppercase
invertido = string.ascii_uppercase[::-1]
n,m = map(int, input().split(' '))

books = []
orderedBooks = []
for i in range (1,n+1):
  books.append([list(input()),i])

print(books)

for i in range (len(books)): # i = par livro/indice original
  for j in range (m):
    if (j%2!=0):
      correspondente = letras.find(books[i][0][j])
      books[i][0][j] = invertido[correspondente]

books = sorted(books)
saida = []
for i in range(len(books)):
  saida.append(books[i][1])

print(*saida, sep=" ", end="")
  		 			 	  		 	  		 	 	 	   	
